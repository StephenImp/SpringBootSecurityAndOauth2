<?xml version="1.0" encoding="UTF-8"?>
<configuration debug="false" scan="true" scanPeriod="60 seconds">
	<!--奶奶的，老是记不住这几个单词，级别排序为： TRACE < DEBUG < INFO < WARN < ERROR -->

	<springProperty scope="context" name="logLevel" source="com.cn.log.level"
		defaultValue="info" />
	<springProperty scope="context" name="logElk" source="com.cn.log.elk"
		defaultValue="info" />

	<!-- 属性文件 -->

	<property name="LOG_NAME_FILE" value="myself-server-log" />
	<property name="LOG_HOME_PATH" value="/data/logs/${LOG_NAME_FILE}" />
	<property name="FILE_PATTERN"
		value="%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} %msg%n" />

	<!-- 默认的控制台日志输出，一般生产环境都是后台启动，这个没太大作用 -->
	<appender name="stdout" class="ch.qos.logback.core.ConsoleAppender">
		<!--<Encoding>UTF-8</Encoding> -->
		<layout class="ch.qos.logback.classic.PatternLayout">
			<pattern>${FILE_PATTERN}</pattern>
		</layout>
	</appender>

	<!-- 配置文件轮转 -->
	<appender name="FILE"
		class="ch.qos.logback.core.rolling.RollingFileAppender">
		<!--<Encoding>UTF-8</Encoding> -->
		<rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
			<FileNamePattern>${LOG_HOME_PATH}/${LOG_NAME_FILE}-%d{yyyy-MM-dd}.log
			</FileNamePattern>
			<MaxHistory>30</MaxHistory>
		</rollingPolicy>
		<encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
			<pattern>${FILE_PATTERN}</pattern>
			<charset>UTF-8</charset>
		</encoder>
	</appender>


	<!-- 修改其他包的日志输出级别 -->
	<!-- <logger name="org.apache.zookeeper"> <level value="WARN" /> </logger> -->
	<logger name="com.ibatis" level="INFO" />
	<logger name="java.sql.PreparedStatement" level="DEBUG" />
	<logger name="com.cn.cloud" level="DEBUG" /><!-- 分包,指定哪个包输出什么级别的日志,打印sql只能是debug级别的日志 -->
	<logger name="org.springframework.cloud.netflix.eureka" level="INFO" />


	<!-- root 默认日志配置 ， 注意这里的级别哈！小心生产环境用DEBUG，压爆你的磁盘！ -->
	<root level="${logLevel}">
		<appender-ref ref="FILE" />
		<appender-ref ref="stdout" />
	</root>
</configuration>  